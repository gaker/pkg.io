{% extends base.html %}

{% block title %}Home{% end %}

{% block content %}

<form action="{{ request.path }}" method="post">
	
	<fieldset>
		<legend>Package Configuration</legend>
		<dl>
        	<dt><label for="package_name"><span>* </span>Package Name:</label></dt>
            <dd><input type="text" class="text" name="package_name" value="{{ set_value('package_name') }}">
			{{ form_error('package_name', '<p>{error}</p>') }}</dd>
			<dt><label for="package_short_name"><span>* </span>Package Short Name: <br>{% comment <em>(alpha-numeric and underscores.  No Spaces)</em> %}</label></dt>
			<dd><input type="text" name="package_short_name" value="{{ set_value('package_short_name') }}">
			{{ form_error('package_short_name', '<p>{error}</p>') }}</dd>
			<dt><label for="version"><span>* </span>Version Number</label></dt>
			<dd><input type="text" name="version" value="{{ set_value('version') }}"></dd>
			<dt><label for="author"><span>* </span>Author Name:</label></dt>
			<dd><input type="text" name="author" value="{{ set_value('author') }}"></dd>
			<dt><label for="author_url">Author URL</label></dt>
			<dd><input type="text" name="author_url" value="{{ set_value('author_url') }}"></dd>
			<dt><label for="docs_url">Documentation URL</label></dt>
			<dd><input type="text" name="docs_url" value="{{ set_value('docs_url') }}"></dd>
			<dt><label>Package Type</label></dt>
			<dd>
				<label for="pkg_accessory">Accessory</label> <input type="checkbox" name="pkg_accessory" id="pkg_accessory" {{ set_value('pkg_accessory', 'check') }}>
				<label for="pkg_plugin">Plugin</label> <input type="checkbox" name="pkg_plugin" id="pkg_plugin" {{ set_value('pkg_plugin', 'check') }}>
				<label for="pkg_module">Module</label> <input type="checkbox" name="pkg_module" id="pkg_module" {{ set_value('pkg_module', 'check') }}>
				<label for="pkg_extension">Extension</label> <input type="checkbox" name="pkg_extension" id="pkg_extension" {{ set_value('pkg_extension', 'check') }}>
			</dd>
        </dl>
	</fieldset>
	
	

	<div><input type="submit" /></div>
	<div style="display:none">{{ xsrf_form_html() }}</div>
</form>
{% end %}

{% block footer_js %}

<script>

(function($) {
	
	$('form input[type=checkbox]').click(function () {
		// @todo Disable inputs if module or plugin is checked.
		
		var section = this.name.substring(4);
		$('#'+section).toggle();
	})
	.filter(':checked').triggerHandler('click');
	
	$('#accessory_sections_num').change(function () {
		var num = this.value;
		
		$('#accessory_2').toggle(num > 1);
		$('#accessory_3').toggle(num > 2);
	})
	.triggerHandler('change')
	
})(jQuery);

</script>

{% end %}